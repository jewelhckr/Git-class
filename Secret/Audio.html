<!DOCTYPE html>
<html>
<head>
	<title>My Music App - Upload</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="./Audio2.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>
	<header>
		<div class="container">
			<h1>My Music App</h1>
			<nav>
				<ul class="nav">
					<li class="nav-item">
						<a class="nav-link" href="#">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#">Browse</a>
					</li>
					<li class="nav-item active">
						<a class="nav-link" href="#">Upload</a>
					</li>
				</ul>
			</nav>
		</div>
	</header>
	<main>
		<section class="upload">
			<div class="container">
				<h2>Upload Track</h2>
				<form method="post" action="#" enctype="multipart/form-data">
					<div class="form-group">
						<label for="title">Title:</label>
						<input type="text" class="form-control" id="title" name="title">
					</div>
					<div class="form-group">
						<label for="artist">Artist:</label>
						<input type="text" class="form-control" id="artist" name="artist">
					</div>
					<div class="form-group">
						<label for="genre">Genre:</label>
						<select class="form-control" id="genre" name="genre">
							<option value="pop">Pop</option>
							<option value="rock">Rock</option>
							<option value="hiphop">Hip Hop</option>
						</select>
					</div>
					<div class="form-group">
						<label for="track">Track:</label>
						<input type="file" class="form-control-file" id="track" name="track">
					</div>
					<button type="submit" class="btn btn-primary" onclick="uploadFile()">Upload</button>
				</form>
			</div>
		</section>
	</main>
    <script>
        function uploadFile() {
        var fileInput = document.getElementById("fileInput");
        var titleInput = document.getElementById("titleInput");
        var artistInput = document.getElementById("artistInput");
        var genreInput = document.getElementById("genreInput");
        
        var title = titleInput.value;
        var artist = artistInput.value;
        var genre = genreInput.value;
        var file = fileInput.files[0];
        
        if (!title || !artist || !genre || !file) {
            alert("Please fill out all fields and select a file.");
            return;
        }
        
        var formData = new FormData();
        formData.append("title", title);
        formData.append("artist", artist);
        formData.append("genre", genre);
        formData.append("file", file);
        
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "upload.php", true);
        
        xhr.onload = function() {
            if (xhr.status === 200) {
            alert(xhr.responseText);
            } else {
            alert("An error occurred while uploading the file.");
            }
        };
        
        xhr.send(formData);
        }

    </script>
</body>
</html>
